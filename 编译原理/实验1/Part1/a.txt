#include<iostream>
#include<fstream>
using namespace std;
int main(int argc,char **argv)
{
ifstream input_file;
ofstream output_file;
int Blank=1;
int Comment1=0;
int Comment2=0;
if(argv[1]==NULL||argv[2]==NULL){
  cout<<"Usage: scan <Sourcefile> <Targetfile>"<<endl;
  return 0;
}

input_file.open(argv[1]);
if(input_file.fail()){
  cout<<"Sorry,Open the Source file fail!" <<endl;
  return 1;}

output_file.open(argv[2]);
cout<<"Files are opened£¬scanning to target file......" <<endl;
char ch,ch1;
while(input_file.get(ch)){
 if(isspace(ch)){if(Comment1==0&&Comment2==0)Blank=0;if(ch=='\n'){if(Comment1==-1)comment1=0;}}else{if(ch=='/'){ch1=input_file.get();if(Comment1==0&&Comment2==0&&ch1=='/')Comment1 = 1;else if(Comment1==0&&Comment2==0&&ch1=='*')Comment2=1;else ungetc(ch1,stdout);}if(ch=='''){do{input_file.get(ch);output_file.put(ch);}while(ch==''');}if(Blank==0){Blank=1;}if(Comment1==1){Comment1=-1;}if(Comment2==1){Comment2=-1;}if(Blank==1&&Comment1==0&&Comment2==0){output_file.put(ch);}if(ch=='*){ch1=input_file.get();if(Comment2==-1&&ch1=='/)Comment2=0;else ungetc(ch1,stdout);}}}input_file.close();output_file.close();cout<<endl;cout<<"Source file"<<argv[1]<<"scaned£¬and the content saved into the file"<<argv[2]<<endl;cout<<endl;return 0;}